% !TEX program = xelatex
\documentclass{matthijs}

\newcolumntype{R}{>{\arraybackslash}m{10cm}}

% Style for first and last page
\usepackage{wallpaper}
\usepackage{color}
%\definecolor{arobsblue}{HTML}{0e2642}
%\definecolor{arobsblue}{HTML}{0f2c4c}
\definecolor{arobsblue}{HTML}{0e335c}

% Gantt chart for chapter Planning
\usepackage{pgfgantt}

\usepackage{csquotes}
\usepackage{biblatex}
\addbibresource{research.bib}

% Versioning
\usepackage[maxdepth=2]{gitinfo2}

%\usepackage{atbegshi}
%\AtBeginShipout{
%	\begin{tikzpicture}[remember picture,overlay]
%		\fill (current page.north west) node[below right,fill=arobsblue,draw=arobsblue,minimum width=\paperwidth,minimum height=2ex] (box) {};
%	\end{tikzpicture}
%}

\begin{document}

	% Set language to English
	\taal{en}

	% Cover page
	\begin{titelpagina}
		\color{white}

		\titel{\vspace{50pt}Research into Lane Detection Algorithms for FPGA's}{\emph{Project Lane Detection using FPGA's}}
		\author{
			\begin{tabular}{r l}
				\textbf{Author:} & Matthijs Bakker{\color{white}\footnote{\color{white}\textsuperscript{1} s1142121@student.windesheim.nl}} \\
				\textbf{Course:} & HBO-ICT ESA Full-Time \\
				\\
				\textbf{Company:} & AROBS Transilvania SA, Cluj-Napoca, Romania \\
				\textbf{Company Supervisor:} & Pangyu Jeong \\
				\textbf{Windesheim Supervisor:} & Willie Conen \\
				\\
				\textbf{Version:} & 1.2 \\
				\textbf{Commit:} & \gitAbbrevHash @master \\
			\end{tabular}
			\vspace{8ex}
		}

		\ThisULCornerWallPaper{1.001}{asset_bg_first_page.jpg}
		
	\end{titelpagina}

	\pagenumbering{arabic}
	\thispagestyle{empty}

	\begin{hoofdstuk*}{Abstract}
%	\savegeometry{oud}
%	\newgeometry{margin=2.75cm}
%	\renewcommand{\cftsecfont}{\normalfont\sffamily}
%	\setlength{\parindent}{0cm}
%	\setlength{\parskip}{0cm}
%	\singlespacing
%	\section*{Abstract}
%	\label{hoofdstuk:Abstract}
%	\onehalfspacing

		abcd

%	\newpage
%	\loadgeometry{oud}
	\end{hoofdstuk*}

	\begin{inhoudspagina}

	\end{inhoudspagina}

	\pagenumbering{arabic}

	\begin{hoofdstuk}{Introduction}

		A run-off-road crash is a type of accident involving a single vehicle in which it veers off the road and collides with a natural or artificial object \cite{liu2009factors}.
		A study conducted in 2008 by the U.S. Department of Transportation indicated that 45 percent of all fatal highway crashes in the USA that year were run-off-road crashes \cite{dod2011run}.
		For more than 95 percent of these run-off-road crashes, the cause of the crash was attributed to the driver of the vehicle \cite{dod2011run}.
		Another report published by the University of Minnesota shows that the afforementioned number may be as high as 53 percent \cite{edwards2013pilot}.
		In that report, numerous countermeasures were proposed to alert the driver if their car was headed off the road, such as delivering haptic feedback through the steering wheel and giving audiotory warnings to the driver.
		However, while countermeasures were proposed, this paper did not clarify when these countermeasures should be triggered or how the car should detect if it is veering off the road.
		
		\bigskip

		To improve the safety of vehicles, AROBS has been developing an Advanced Driver-Assistance System -- hereafter referred to as an ADAS.
		This system comprises of numerous subsystems which monitor and control certain processes inside of the car.
		One of these subsystems is the Lane Centering Subsystem.
		As the name implies, this component of the ADAS assists the driver in keeping the vehicle centered in a road lane.
		To detect if the car is properly centerred, a camera is positioned on the dashboard of the car and it is faced towards the road.
		The approximate position of the vehicle relative to the road lane is calculated by feeding the video feed from the camera through an algorithmm.
		If the result of this process indicates that the car is deterring from the lane, a signal is sent to the ADAS so that a warning can be provided to the driver of the vehicle.
		
		\bigskip

		The goal of this research is to select the best suited algorithm for detecting \textbf{road lane markings} from a video feed and calculating the approximate location of the car relative to the lane.
		First of all, I will search for existing lane marking algorithms by using various online document aggregators, such as Google Scholar and ResearchGate.
		I will implement each of the candidate algorithms in a computer program and run test images through them to determine how effective they are.
		The final chosen algorithm will be implemented on a Field Programmable Gate Array (FPGA), because it needs to be a low-cost device that can analyze the video feed in real-time.
		A selection process will occur, in which the candidate algorithms will be judged by the following metrics:

		\begin{enumerate}

			\item	Accuracy of detection; the effectiveness of the candidate algorithm on test images.
				This metric will be measured by implementing the algorithm into a computer program which can process test images.
				The candidates will be ranked by how accurate the end result is compared to the reference result.

			\item	Environmental suitability; how well the candidate algorithm works when put in different environments.
				This criteria involves using test images that were captured in different weather conditions, lighting conditions and different areas of the world.
				A particular algorithm might work better than others in bright lighting, but may not work at all when the vehicle is driving through a tunnel or at night time.
				The selected test images, as seen in \verwijzing{tabel}{List of test images}, were captured under many different circumstances.
				This metric is measured by the least amount of test images failed to process.

			\item	The feasability of implementing the candidate algorithm in digital logic.
				It is hard to set up concrete criteria for measuring this metric, because the time and knowledge required to implement a particular algorithm depends on many factors, and it can't be properly calculated in advance.
				For this reason, I will estimate the difficulty of implementing the algorithm in hardware and I will assign it a score between one and five, with five meaning it would be very difficult to implement.

			\item	The resources required to run such an algorithm in real-time.
				We want as little delay as possible between the video frame being shot and the completion of the calculation.
				The quicker the car can detect that it's veering off the lane, the quicker the situation can be rectified, and the safer the system becomes.
				After all, the safety of human lives are at stake.\\
				This metric will be measured by:

				\begin{itemize}

					\item	The average amount of milliseconds it takes for a reference implementation to process one frame
					
					\item	The amount of Look-Up Tables, Flip-Flops and Block RAM a reference implementation occupies

				\end{itemize}

		\end{enumerate}

	\end{hoofdstuk}

	\begin{hoofdstuk}{Methods}

		\begin{paragraaf}{Literature Study}

		\end{paragraaf}

		\begin{paragraaf}{Test Implementations}

			To prove the effectiveness of each algorithm, it must be implemented in a computer program which runs a set of test images through it.
			The test images were hand selected from the Berkeley DeepDrive 100K Dataset \cite{yu2020bdd100k} and converted to PPM format for easier manipulation.
			A list of these images, along with the motivation behind why they were selected, can be found in \verwijzing{tabel}{List of test images}.

			\begin{tabel}{List of test images}{l @{\extracolsep{\fill}} R}
				
				\emph{Image Name} & \emph{Motivation} \tabularnewline
				0a0a0b1a-7c39d841.jpg & Clearly defined lane markings, with high contrast between the sky and the road \tabularnewline
				0b16507a-49b0aca9.jpg & Yellow lane marking, to test if the algorithm can detect multiple colors \tabularnewline
				0cf398b3-ce65ab54.jpg & Unclear, partially wiped-out lane markings. This image tests if the algorithm would work in night time as well \tabularnewline
				0d4268d5-3c617dd8.jpg & Off-center vehicle. It would be interesting whether the algorithm detects the left or the right lane \tabularnewline
				0d62200b-85aeaa3d.jpg & Unusual markings on the left side of the lane, not a clear separation between road and curb \tabularnewline
				0fc0b0cc-75d5e23d.jpg & Bad lighting; sunflare disrupts the luminance of the road in the image \tabularnewline
			
			\end{tabel}

		\end{paragraaf}

	\end{hoofdstuk}

	\begin{hoofdstuk}{Results}

	\end{hoofdstuk}

	% Bibliography page
	\begin{hoofdstuk}{References}

		\printbibliography[heading=none]
	
	\end{hoofdstuk}

	% Empty last page
	\clearpage
	\thispagestyle{empty}
	\addtocounter{page}{-1}
	\ThisULCornerWallPaper{1.005}{asset_bg_last_page.jpg}
	\
	\clearpage

\end{document}
